# ローイングフォーム分析アプリ 

## 🚀 セットアップ

### 1. 依存関係のインストール
```bash
pip install -r requirements_streamlit_full.txt
```

### 2. モデルデータの準備
```bash
python create_model.py
```

### 3. アプリの起動
```bash
streamlit run streamlit_app_full.py
```

## 📱 機能

### 🎯 分析項目
- **ドライブ/リカバリー比率**: ローイングのタイミング分析
- **腰の角度**: リアルタイムでの角度測定
- **角度の統計**: 最大値、最小値、平均値
- **姿勢検出**: MediaPipeによる骨格検出（main_v5.pyと同じ精度）

### 📊 表示機能
- **リアルタイム動画表示**: 姿勢検出と角度表示
- **インタラクティブグラフ**: フレーム選択可能
- **理想値との比較**: 詳細なフィードバック
- **角度の時系列表示**: フレームごとの変化

### 🆕 機能
- **フレーム選択スライダー**: 任意のフレームにジャンプ
- **リアルタイム角度表示**: 現在のフレームの角度を表示
- **グラフ上のマーカー**: 現在位置を視覚的に表示
- **Webベースインターフェース**: ブラウザでアクセス可能

## 🚀 使用方法
1. 左側のサイドバーから動画をアップロード
2. 自動分析の実行
3. 動画プレイヤーでフレーム選択
4. 結果の確認とフィードバック

## 🎨 UI特徴
- モダンなWebインターフェース
- レスポンシブデザイン
- インタラクティブなグラフ
- リアルタイムフィードバック
- 日本語対応

## 📁 ファイル構成
```
Rowingapp/
├── streamlit_app_full.py        # 完全版アプリケーション
├── requirements_streamlit_full.txt # 依存関係
├── create_model.py              # モデルデータ作成
├── model_data.json             # 理想値データ
├── main_v5.py                  # 元のPyQt5アプリ
└── Rowing_Data/                # モデル動画データ
```

## 🔧 技術スタック
- **Streamlit**: Webフレームワーク
- **OpenCV**: 動画処理
- **MediaPipe**: 姿勢検出
- **Plotly**: グラフ表示
- **NumPy/SciPy**: 数値計算

## 🔄 main_v5.pyとの違い

### 同じ機能
- ✅ 姿勢検出と骨格描画
- ✅ 腰の角度計算
- ✅ 最大・最小角度の記録
- ✅ ドライブ/リカバリー比率計算
- ✅ 理想値との比較フィードバック
- ✅ 頭部基準線の表示

### 追加機能
- 🆕 フレーム選択スライダー
- 🆕 インタラクティブグラフ
- 🆕 Webベースインターフェース
- 🆕 リアルタイム角度表示
- 🆕 グラフ上の現在位置マーカー

## 🎯 使用例
1. **動画アップロード**: サイドバーからローイング動画を選択
2. **自動分析**: 姿勢検出と角度計算が自動実行
3. **フレーム選択**: スライダーで任意のフレームに移動
4. **角度確認**: 現在のフレームの角度をリアルタイム表示
5. **統計確認**: 最大・最小・平均角度を確認
6. **フィードバック**: 理想値との比較結果を確認 
